*** livelihood transformations... to be run on the HH data to get the grouped livelihood activities. ***

*************************************************************************

IF (s5q1a1 = 1) ag1.1 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 2) ag1.2 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 3) ag1.3 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 4) ag1.4 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 5) ag1.5 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 6) ag1.6 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 9) ag1.9 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 10) ag1.10 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 11) ag1.11 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 12) ag1.12 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 21) ag1.21 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 22) ag1.22 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 23) ag1.23 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 24) ag1.24 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 25) ag1.25 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 26) ag1.26 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 27) ag1.27 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 31) ag1.31 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 32) ag1.32 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 33) ag1.33 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 41) ag1.41 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 42) ag1.42 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 43) ag1.43 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 44) ag1.44 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 45) ag1.45 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 51) ag1.51 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 52) ag1.52 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 53) ag1.53 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 54) ag1.54 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 55) ag1.55 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 56) ag1.56 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 57) ag1.57 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 61) ag1.61 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 62) ag1.62 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 63) ag1.63 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 64) ag1.64 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 65) ag1.65 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 66) ag1.66 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 67) ag1.67 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 88) ag1.88 = s5q1c1 .
EXECUTE .
IF (s5q1a1 = 99) ag1.99 = s5q1c1 .
EXECUTE .

***** second activity *****

IF (s5q1a2 = 1) ag2.1 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 2) ag2.2 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 3) ag2.3 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 4) ag2.4 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 5) ag2.5 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 6) ag2.6 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 9) ag2.9 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 10) ag2.10 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 11) ag2.11 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 12) ag2.12 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 21) ag2.21 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 22) ag2.22 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 23) ag2.23 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 24) ag2.24 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 25) ag2.25 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 26) ag2.26 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 27) ag2.27 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 31) ag2.31 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 32) ag2.32 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 33) ag2.33 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 41) ag2.41 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 42) ag2.42 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 43) ag2.43 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 44) ag2.44 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 45) ag2.45 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 51) ag2.51 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 52) ag2.52 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 53) ag2.53 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 54) ag2.54 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 55) ag2.55 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 56) ag2.56 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 57) ag2.57 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 61) ag2.61 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 62) ag2.62 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 63) ag2.63 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 64) ag2.64 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 65) ag2.65 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 66) ag2.66 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 67) ag2.67 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 88) ag2.88 = s5q1c2 .
EXECUTE .
IF (s5q1a2 = 99) ag2.99 = s5q1c2 .
EXECUTE .

**** third activity ***

IF (s5q1a3 = 1) ag3.1 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 2) ag3.2 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 3) ag3.3 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 4) ag3.4 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 5) ag3.5 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 6) ag3.6 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 9) ag3.9 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 10) ag3.10 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 11) ag3.11 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 12) ag3.12 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 21) ag3.21 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 22) ag3.22 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 23) ag3.23 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 24) ag3.24 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 25) ag3.25 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 26) ag3.26 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 27) ag3.27 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 31) ag3.31 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 32) ag3.32 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 33) ag3.33 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 41) ag3.41 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 42) ag3.42 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 43) ag3.43 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 44) ag3.44 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 45) ag3.45 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 51) ag3.51 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 52) ag3.52 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 53) ag3.53 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 54) ag3.54 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 55) ag3.55 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 56) ag3.56 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 57) ag3.57 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 61) ag3.61 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 62) ag3.62 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 63) ag3.63 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 64) ag3.64 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 65) ag3.65 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 66) ag3.66 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 67) ag3.67 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 88) ag3.88 = s5q1c3 .
EXECUTE .
IF (s5q1a3 = 99) ag3.99 = s5q1c3 .
EXECUTE .

************* replace the missing with zeros***********************

RECODE ag1.1 ag1.2 ag1.3 ag1.4 ag1.5 ag1.6 ag1.9 ag1.10 ag1.11 ag1.12 ag1.21 ag1.22 ag1.23 ag1.24 
    ag1.25 ag1.26 ag1.27 ag1.31 ag1.32 ag1.33 ag1.41 ag1.42 ag1.43 ag1.44 ag1.45 ag1.51 ag1.52 ag1.53 
    ag1.54 ag1.55 ag1.56 ag1.57 ag1.61 ag1.62 ag1.63 ag1.64 ag1.65 ag1.66 ag1.67 ag1.88 ag1.99 ag2.1 
    ag2.2 ag2.3 ag2.4 ag2.5 ag2.6 ag2.9 ag2.10 ag2.11 ag2.12 ag2.21 ag2.22 ag2.23 ag2.24 ag2.25 ag2.26 
    ag2.27 ag2.31 ag2.32 ag2.33 ag2.41 ag2.42 ag2.43 ag2.44 ag2.45 ag2.51 ag2.52 ag2.53 ag2.54 ag2.55 
    ag2.56 ag2.57 ag2.61 ag2.62 ag2.63 ag2.64 ag2.65 ag2.66 ag2.67 ag2.88 ag2.99 ag3.1 ag3.2 ag3.3 
    ag3.4 ag3.5 ag3.6 ag3.9 ag3.10 ag3.11 ag3.12 ag3.21 ag3.22 ag3.23 ag3.24 ag3.25 ag3.26 ag3.27 
    ag3.31 ag3.32 ag3.33 ag3.41 ag3.42 ag3.43 ag3.44 ag3.45 ag3.51 ag3.52 ag3.53 ag3.54 ag3.55 ag3.56 
    ag3.57 ag3.61 ag3.62 ag3.63 ag3.64 ag3.65 ag3.66 ag3.67 ag3.88 ag3.99 (SYSMIS=0).
EXECUTE.

*******************compute the summed activity amounts  ************************************************************

compute ag1 = ag1.1 + ag2.1 + ag3.1 .
compute ag2 = ag1.2 + ag2.2 + ag3.2 .
compute ag3 = ag1.3 + ag2.3 + ag3.3 .
compute ag4 = ag1.4 + ag2.4 + ag3.4 .
compute ag5 = ag1.5 + ag2.5 + ag3.5 .
compute ag6 = ag1.6 + ag2.6 + ag3.6 .
compute ag9 = ag1.9 + ag2.9 + ag3.9 .
compute ag10 = ag1.10 + ag2.10 + ag3.10 .
compute ag11 = ag1.11 + ag2.11 + ag3.11 .
compute ag12 = ag1.12 + ag2.12 + ag3.12 .
compute ag21 = ag1.21 + ag2.21 + ag3.21 .
compute ag22 = ag1.22 + ag2.22 + ag3.22 .
compute ag23 = ag1.23 + ag2.23 + ag3.23 .
compute ag24 = ag1.24 + ag2.24 + ag3.24 .
compute ag25 = ag1.25 + ag2.25 + ag3.25 .
compute ag26 = ag1.26 + ag2.26 + ag3.26 .
compute ag27 = ag1.27 + ag2.27 + ag3.27 .
compute ag31 = ag1.31 + ag2.31 + ag3.31 .
compute ag32 = ag1.32 + ag2.32 + ag3.32 .
compute ag33 = ag1.33 + ag2.33 + ag3.33 .
compute ag41 = ag1.41 + ag2.41 + ag3.41 .
compute ag42 = ag1.42 + ag2.42 + ag3.42 .
compute ag43 = ag1.43 + ag2.43 + ag3.43 .
compute ag44 = ag1.44 + ag2.44 + ag3.44 .
compute ag45 = ag1.45 + ag2.45 + ag3.45 .
compute ag51 = ag1.51 + ag2.51 + ag3.51 .
compute ag52 = ag1.52 + ag2.52 + ag3.52 .
compute ag53 = ag1.53 + ag2.53 + ag3.53 .
compute ag54 = ag1.54 + ag2.54 + ag3.54 .
compute ag55 = ag1.55 + ag2.55 + ag3.55 .
compute ag56 = ag1.56 + ag2.56 + ag3.56 .
compute ag57 = ag1.57 + ag2.57 + ag3.57 .
compute ag61 = ag1.61 + ag2.61 + ag3.61 .
compute ag62 = ag1.62 + ag2.62 + ag3.62 .
compute ag63 = ag1.63 + ag2.63 + ag3.63 .
compute ag64 = ag1.64 + ag2.64 + ag3.64 .
compute ag65 = ag1.65 + ag2.65 + ag3.65 .
compute ag66 = ag1.66 + ag2.66 + ag3.66 .
compute ag67 = ag1.67 + ag2.67 + ag3.67 .
compute ag88 = ag1.88 + ag2.88 + ag3.88 .

execute.  

***** delete all the other process variables*****

delete varaibles ag1.1 ag1.2 ag1.3 ag1.4 ag1.5 ag1.6 ag1.9 ag1.10 ag1.11 ag1.12 ag1.21 ag1.22 ag1.23 ag1.24 
    ag1.25 ag1.26 ag1.27 ag1.31 ag1.32 ag1.33 ag1.41 ag1.42 ag1.43 ag1.44 ag1.45 ag1.51 ag1.52 ag1.53 
    ag1.54 ag1.55 ag1.56 ag1.57 ag1.61 ag1.62 ag1.63 ag1.64 ag1.65 ag1.66 ag1.67 ag1.88 ag1.99 ag2.1 
    ag2.2 ag2.3 ag2.4 ag2.5 ag2.6 ag2.9 ag2.10 ag2.11 ag2.12 ag2.21 ag2.22 ag2.23 ag2.24 ag2.25 ag2.26 
    ag2.27 ag2.31 ag2.32 ag2.33 ag2.41 ag2.42 ag2.43 ag2.44 ag2.45 ag2.51 ag2.52 ag2.53 ag2.54 ag2.55 
    ag2.56 ag2.57 ag2.61 ag2.62 ag2.63 ag2.64 ag2.65 ag2.66 ag2.67 ag2.88 ag2.99 ag3.1 ag3.2 ag3.3 
    ag3.4 ag3.5 ag3.6 ag3.9 ag3.10 ag3.11 ag3.12 ag3.21 ag3.22 ag3.23 ag3.24 ag3.25 ag3.26 ag3.27 
    ag3.31 ag3.32 ag3.33 ag3.41 ag3.42 ag3.43 ag3.44 ag3.45 ag3.51 ag3.52 ag3.53 ag3.54 ag3.55 ag3.56 
    ag3.57 ag3.61 ag3.62 ag3.63 ag3.64 ag3.65 ag3.66 ag3.67 ag3.88 ag3.99.
execute.


*********************************************************First round of combining variables****************************

compute ag31.32.33.65.27 = ag31 + ag32 + ag33 + ag65 + ag27.
Execute. 
delete variables ag31 ag32 ag33 ag65 ag27.
execute. 

compute a2.62 = ag2 + ag62.
execute. 
delete variables ag2 ag62.
execute. 

compute a9.3 = ag9 + ag3.
execute.
delete variables ag9 ag3.
execute. 

compute a4.6 = ag4 + ag6.
execute. 
delete variables ag4 ag6.
execute. 

compute a10.11.12 = ag10 + ag11 + ag12.
execute.
delete variables ag10 ag11 ag12.
execute. 

compute a21.24.63 = ag21 + ag24 + ag63.
execute.
delete variables ag21 ag24 ag63.
execute.  

compute a26.52 = ag26 + ag52.
execute.
delete variables ag26 ag52.
execute.  

compute a41.44.42.45 = ag41 + ag44 + ag42 + ag45.
execute.
delete variables ag41 ag44 ag42 ag45.
execute. 

compute a51.57.54.43 = ag51+ ag57 + ag54 + ag43.
execute. 
delete variables ag51 ag57 ag54 ag43.
execute. 

compute a56.61 = ag56 + ag61.
execute.
delete variables ag56 ag61.
execute.

compute a64.5 = ag64 + ag5.
execute.
delete variables ag64 ag5.
execute.

compute a66.67 = ag66 + ag67.
execute. 
delete variables ag66 ag67.
execute.


 

COMPUTE totincome=SUM(s5q1c1,s5q1c2,s5q1c3).
EXECUTE.





******create the percentage of income activities****************


COMPUTE p_ag1 = (ag1 / totincome) * 100 .
EXECUTE .
COMPUTE p_ag22 = (ag22 / totincome) * 100 .
EXECUTE .
COMPUTE p_ag23 = (ag23 / totincome) * 100 .
EXECUTE .
COMPUTE p_ag25 = (ag25 / totincome) * 100 .
EXECUTE .
COMPUTE p_ag53 = (ag53 / totincome) * 100 .
EXECUTE .
COMPUTE p_ag55= (ag55 / totincome) * 100 .
EXECUTE .
COMPUTE p_ag88 = (ag88 / totincome) * 100 .
EXECUTE .
COMPUTE p_ag31.32.33.65.27 = (ag31.32.33.65.27 / totincome) * 100 .
EXECUTE .
COMPUTE p_a2.62 = (a2.62 / totincome) * 100 .
EXECUTE .
COMPUTE p_a9.3 = (a9.3/ totincome) * 100 .
EXECUTE .
COMPUTE p_a4.6= (a4.6 / totincome) * 100 .
EXECUTE .
COMPUTE p_a10.11.12 = (a10.11.12 / totincome) * 100 .
EXECUTE .
COMPUTE p_a21.24.63 = (a21.24.63 / totincome) * 100 .
EXECUTE .
COMPUTE p_a26.52 = (a26.52 / totincome) * 100 .
EXECUTE .
COMPUTE p_a41.44.42.45 = (a41.44.42.45 / totincome) * 100 .
EXECUTE .
COMPUTE p_a51.57.54.43 = (a51.57.54.43 / totincome) * 100 .
EXECUTE .
COMPUTE p_a56.61 = (a56.61 / totincome) * 100 .
EXECUTE .
COMPUTE p_a64.5 = (a64.5 / totincome) * 100 .
EXECUTE .
COMPUTE p_a66.67 = (a66.67 / totincome) * 100 .
EXECUTE .






